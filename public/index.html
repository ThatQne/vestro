<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vestro - Modern Gambling</title>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <!-- Matter.js physics engine -->
    <script src="https://cdn.jsdelivr.net/npm/matter-js@0.19.0/build/matter.min.js"></script>
    <link rel="stylesheet" href="./css/style.css">
    <script>
        // Set base href only for GitHub Pages deployment
        if (window.location.hostname === 'thatqne.github.io') {
            document.write('<base href="/vestro/">');
        }
    </script>
</head>
<body>
    <!-- Mobile Menu Toggle -->
    <button id="mobile-menu-toggle" class="mobile-menu-toggle">
        <i data-lucide="menu"></i>
    </button>
    
    <!-- Mobile Overlay -->
    <div id="mobile-overlay" class="mobile-overlay"></div>
    
    <!-- Sidebar -->
    <nav id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <div class="logo-icon">V</div>
                <span class="logo-text">Vestro</span>
            </div>
        </div>
        
        <div class="nav-menu">
            <a href="#" onclick="showPage('dashboard')" class="nav-item active" data-page="dashboard">
                <i data-lucide="home"></i>
                <span>Dashboard</span>
            </a>
            <a href="#" onclick="showPage('games')" class="nav-item" data-page="games">
                <i data-lucide="gamepad-2"></i>
                <span>Games</span>
            </a>
            <a href="#" onclick="showPage('trades')" class="nav-item" data-page="trades">
                <i data-lucide="trending-up"></i>
                <span>Trades</span>
            </a>
            <a href="#" onclick="showPage('marketplace')" class="nav-item" data-page="marketplace">
                <i data-lucide="shopping-cart"></i>
                <span>Marketplace</span>
            </a>
            <a href="#" onclick="showPage('leaderboard')" class="nav-item" data-page="leaderboard">
                <i data-lucide="trophy"></i>
                <span>Leaderboard</span>
            </a>
            <a href="#" onclick="showPage('cases')" class="nav-item" data-page="cases">
                <i data-lucide="package"></i>
                <span>Cases</span>
            </a>
            <a href="#" onclick="showPage('case-battles')" class="nav-item" data-page="case-battles">
                <i data-lucide="swords"></i>
                <span>Case Battles</span>
            </a>
            <a href="#" onclick="showPage('inventory')" class="nav-item" data-page="inventory">
                <i data-lucide="backpack"></i>
                <span>Inventory</span>
            </a>
        </div>
        
        <div class="sidebar-footer">
            <button onclick="logout()" class="logout-btn">
                <i data-lucide="log-out"></i>
                <span>Logout</span>
            </button>
        </div>
    </nav>

    <!-- Top Bar -->
    <div id="top-bar" class="top-bar hidden">
        <div class="top-bar-left">
            <div class="balance-display">
                <i data-lucide="dollar-sign" class="balance-icon"></i>
                <span class="balance-amount"><span id="top-balance">$0</span></span>
            </div>
        </div>
        <div class="top-bar-right">
            <div class="profile-info">
                <div class="profile-avatar-small">
                    <span id="top-avatar">U</span>
                </div>
                <div class="profile-details">
                    <div class="profile-top">
                        <span class="profile-name" id="top-username">Username</span>
                        <span class="profile-level">Level <span id="top-level">1</span></span>
                    </div>
                    <div class="profile-xp">
                        <div class="xp-bar">
                            <div class="xp-fill" id="xp-fill" style="width: 0%"></div>
                        </div>
                        <div class="xp-text">
                            <span id="current-xp">0</span> / <span id="required-xp">100</span> XP
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main id="main-content" class="main-content">
        <!-- Login Page -->
        <div id="login-page" class="login-container">
            <div class="login-card">
                <div class="login-header">
                    <div class="login-logo">
                        <div class="login-logo-icon">V</div>
                    </div>
                    <h1>Welcome to Vestro</h1>
                    <p>Enter your credentials to continue</p>
                </div>

                <form id="login-form" class="login-form">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" required placeholder="Enter your username" autocomplete="username">
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" required placeholder="Enter your password" autocomplete="current-password">
                    </div>
                    <div id="status-indicator" class="status-indicator hidden">
                        <span id="status-text"></span>
                    </div>
                    <button type="submit" class="login-btn">
                        <span>Continue</span>
                        <i data-lucide="arrow-right"></i>
                    </button>
                </form>
            </div>
        </div>

        <!-- Dashboard Page -->
        <div id="dashboard-page" class="page-content">
            <div class="page-header">
                <h1>Dashboard</h1>
                <p>Welcome back, <span id="welcome-username">Player</span></p>
            </div>
            
            <div class="stats-grid">
                <div class="wins-losses-chart">
                    <div class="chart-header">
                        <h3 class="chart-title">Balance History</h3>
                        <div class="chart-stats">
                            <div class="chart-stat">
                                <div class="chart-stat-dot wins"></div>
                                <span class="chart-stat-label">Wins:</span>
                                <span class="chart-stat-value" id="chart-wins">0</span>
                            </div>
                            <div class="chart-stat">
                                <div class="chart-stat-dot losses"></div>
                                <span class="chart-stat-label">Losses:</span>
                                <span class="chart-stat-value" id="chart-losses">0</span>
                            </div>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="chart-grid"></div>
                        <canvas id="balance-chart" width="400" height="200"></canvas>
                        <div class="chart-points" id="chart-points"></div>
                    </div>
                </div>
            </div>
            
            <div class="profile-grid">
                <div class="profile-stats">
                    <h3>Statistics</h3>
                    <div class="stat-row">
                        <span>Games Played:</span>
                        <span id="profile-games-played">0</span>
                    </div>
                    <div class="stat-row">
                        <span>Total Won:</span>
                        <span id="profile-total-won">$0</span>
                    </div>
                    <div class="stat-row">
                        <span>Current Balance:</span>
                        <span id="profile-balance">$0</span>
                    </div>
                    <div class="stat-row">
                        <span>Win Rate:</span>
                        <span id="profile-win-rate">0%</span>
                    </div>
                    <div class="stat-row">
                        <span>Best Win:</span>
                        <span id="profile-best-win">$0</span>
                    </div>
                    <div class="stat-row">
                        <span>Best Win Streak:</span>
                        <span id="profile-best-streak">0</span>
                    </div>
                </div>
                <div class="profile-badges">
                    <h3>Badges & Achievements</h3>
                    <div class="badges-grid" id="badges-grid">
                        <!-- Badges will be added here dynamically -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Games Page -->
        <div id="games-page" class="page-content hidden">
            <div class="page-header">
                <h1>Games</h1>
                <p>Choose your game and test your luck</p>
            </div>
            
            <div class="games-grid">
                <div class="game-card" onclick="showPage('dice-game')">
                    <div class="game-icon">
                        <i data-lucide="dice-6"></i>
                    </div>
                    <div class="game-info">
                        <h3>Dice Roll</h3>
                        <p>Roll over or under to win big</p>
                        <div class="game-stats">
                            <span class="game-payout">Up to 99x</span>
                        </div>
                    </div>
                </div>
                
                <div class="game-card disabled" title="Plinko is temporarily disabled">
                    <div class="game-icon">
                        <i data-lucide="triangle"></i>
                    </div>
                    <div class="game-info">
                        <h3>Plinko</h3>
                        <p>Temporarily disabled</p>
                        <div class="game-stats">
                            <span class="game-payout">Under maintenance</span>
                        </div>
                    </div>
                </div>
                
                <div class="game-card" onclick="showPage('mines-game')">
                    <div class="game-icon">
                        <i data-lucide="bomb"></i>
                    </div>
                    <div class="game-info">
                        <h3>Mines</h3>
                        <p>Reveal tiles and avoid the mines</p>
                        <div class="game-stats">
                            <span class="game-payout">Up to 5000x</span>
                        </div>
                    </div>
                </div>
                
                <div class="game-card" onclick="showPage('blackjack-game')">
                    <div class="game-icon">
                        <i data-lucide="spade"></i>
                    </div>
                    <div class="game-info">
                        <h3>Blackjack</h3>
                        <p>Beat the dealer to 21</p>
                        <div class="game-stats">
                            <span class="game-payout">Up to 3x</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dice Game Page -->
        <div id="dice-game-page" class="page-content hidden">
            <div class="game-page-header">
                <button onclick="showPage('games')" class="back-btn">
                    <i data-lucide="arrow-left"></i>
                    <span>Back to Games</span>
                </button>
                <h1>Dice Roll</h1>
            </div>
            
            <!-- Dice Game -->
            <div class="dice-game-container">
                <div class="dice-game-header">
                    <h3 class="dice-game-title"><i data-lucide="dice-6"></i> Dice Roll</h3>
                    <div class="dice-game-stats">
                        <span>Multiplier: <span id="dice-multiplier" class="formatted-number">2.00x</span></span>
                        <span>Win Chance: <span id="dice-chance" class="formatted-number">49.50%</span></span>
                    </div>
                </div>
                
                <div class="dice-game-body">
                    <div class="dice-visual">
                        <div class="dice-result" id="dice-result">50.00</div>
                        <div class="dice-track">
                            <div class="dice-pointer" id="dice-pointer" style="left: 50%;"></div>
                        </div>
                        <div class="dice-numbers">
                            <span>0.00</span>
                            <span>25.00</span>
                            <span>50.00</span>
                            <span>75.00</span>
                            <span>100.00</span>
                        </div>
                    </div>
                    
                    <div class="dice-controls">
                        <div class="control-group">
                            <label class="control-label">Bet Amount</label>
                            <input type="number" id="dice-bet-amount" class="bet-input" placeholder="0.00" min="0.01" step="0.01">
                            <div class="bet-buttons">
                                <button class="bet-btn" onclick="setBetAmount('half')">½</button>
                                <button class="bet-btn" onclick="setBetAmount('double')">2x</button>
                                <button class="bet-btn" onclick="setBetAmount('max')">Max</button>
                                <button class="bet-btn" onclick="setBetAmount('clear')">Clear</button>
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <div class="roll-type-buttons">
                                <button class="roll-type-btn active" id="roll-over-btn" onclick="setRollType('over')">
                                    <i data-lucide="arrow-up"></i>
                                    <span>Roll Over</span>
                                </button>
                                <button class="roll-type-btn" id="roll-under-btn" onclick="setRollType('under')">
                                    <i data-lucide="arrow-down"></i>
                                    <span>Roll Under</span>
                                </button>
                            </div>
                            <div class="target-slider">
                                <div class="slider-track"></div>
                                <input type="range" id="dice-target" class="slider-input" min="1" max="99" value="50" step="0.01">
                            </div>
                            <div class="slider-value">
                                <span id="roll-type-text">Roll Over</span>
                                <span id="dice-target-value">50.00</span>
                            </div>
                        </div>
                        
                        <div class="action-buttons">
                            <button class="roll-btn" id="roll-dice-btn" onclick="rollDice()">
                                <span id="roll-btn-text">Roll Dice</span>
                            </button>
                            <button class="auto-bet-btn" id="auto-bet-btn">Auto</button>
                        </div>
                        
                        <div class="auto-bet-settings" id="auto-bet-settings">
                            <div class="control-group">
                                <label class="control-label">Auto Bet Settings</label>
                                <div class="auto-bet-grid">
                                    <div>
                                        <label class="control-label">Number of Bets</label>
                                        <div class="input-with-toggle">
                                            <input type="number" id="auto-bet-count" class="auto-bet-input" placeholder="10" min="1">
                                            <button id="infinite-bets-toggle" class="toggle-btn" title="Run indefinitely">∞</button>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="control-label">Stop on Win ($)</label>
                                        <input type="number" id="auto-stop-win" class="auto-bet-input" placeholder="100.00" min="0" step="0.01">
                                    </div>
                                    <div>
                                        <label class="control-label">Stop on Loss ($)</label>
                                        <input type="number" id="auto-stop-loss" class="auto-bet-input" placeholder="50.00" min="0" step="0.01">
                                    </div>
                                    <div>
                                        <label class="control-label">Stop on Balance %</label>
                                        <div class="input-group">
                                            <input type="number" id="auto-stop-balance-gain" class="auto-bet-input half" placeholder="+50%" min="0" max="1000">
                                            <input type="number" id="auto-stop-balance-loss" class="auto-bet-input half" placeholder="-25%" min="0" max="100">
                                        </div>
                                    </div>
                                </div>

                                <div class="control-group">
                                    <label class="control-label">On Loss</label>
                                    <div class="bet-strategy-grid">
                                        <button id="on-loss-reset" class="strategy-btn active">Reset</button>
                                        <button id="on-loss-multiply" class="strategy-btn">Multiply</button>
                                        <button id="on-loss-stop" class="strategy-btn">Stop</button>
                                    </div>
                                    <div id="on-loss-settings" class="strategy-settings">
                                        <div class="input-with-label">
                                            <input type="number" id="on-loss-multiplier" class="auto-bet-input" placeholder="2.0" min="0.1" step="0.1" value="2.0">
                                            <span class="input-label">× multiplier</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="control-group">
                                    <label class="control-label">On Win</label>
                                    <div class="bet-strategy-grid">
                                        <button id="on-win-reset" class="strategy-btn active">Reset</button>
                                        <button id="on-win-multiply" class="strategy-btn">Multiply</button>
                                        <button id="on-win-stop" class="strategy-btn">Stop</button>
                                    </div>
                                    <div id="on-win-settings" class="strategy-settings">
                                        <div class="input-with-label">
                                            <input type="number" id="on-win-multiplier" class="auto-bet-input" placeholder="2.0" min="0.1" step="0.1" value="2.0">
                                            <span class="input-label">× multiplier</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="auto-bet-actions">
                                    <button id="start-auto-bet" class="start-auto-btn">Start Auto Bet</button>
                                    <button id="stop-auto-bet" class="stop-auto-btn hidden">Stop</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Individual Game Pages -->
        <div id="coinflip-game-page" class="page-content hidden">
            <div class="game-page-header">
                <button onclick="showPage('games')" class="back-btn">
                    <i data-lucide="arrow-left"></i>
                    <span>Back to Games</span>
                </button>
                <h1>Coin Flip</h1>
            </div>
            
            <div class="game-interface">
                <div class="game-visual">
                    <div class="coin-container">
                        <div id="coin" class="coin">
                            <div class="coin-face heads">H</div>
                            <div class="coin-face tails">T</div>
                        </div>
                    </div>
                </div>
                
                <div class="game-controls">
                    <div class="bet-section">
                        <label for="coinflip-bet">Bet Amount</label>
                        <input type="number" id="coinflip-bet" min="1" placeholder="Enter amount" class="form-input">
                    </div>
                    
                    <div class="choice-section">
                        <h3>Choose your side</h3>
                        <div class="choice-buttons">
                            <button onclick="playCoinFlip('heads')" class="choice-btn heads-btn">
                                <i data-lucide="circle"></i>
                                <span>Heads</span>
                            </button>
                            <button onclick="playCoinFlip('tails')" class="choice-btn tails-btn">
                                <i data-lucide="circle"></i>
                                <span>Tails</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="dice-game-page" class="page-content hidden">
            <div class="game-page-header">
                <button onclick="showPage('games')" class="back-btn">
                    <i data-lucide="arrow-left"></i>
                    <span>Back to Games</span>
                </button>
                <h1>Dice Roll</h1>
            </div>
            
            <div class="game-interface">
                <div class="game-visual">
                    <div class="dice-container">
                        <div id="dice" class="dice">
                            <i data-lucide="dice-6"></i>
                        </div>
                    </div>
                </div>
                
                <div class="game-controls">
                    <div class="bet-section">
                        <label for="dice-bet">Bet Amount</label>
                        <input type="number" id="dice-bet" min="1" placeholder="Enter amount" class="form-input">
                    </div>
                    
                    <div class="choice-section">
                        <h3>Guess the roll</h3>
                        <div class="choice-buttons">
                            <button onclick="playDice('higher')" class="choice-btn higher-btn">
                                <i data-lucide="trending-up"></i>
                                <span>Higher (4-6)</span>
                            </button>
                            <button onclick="playDice('lower')" class="choice-btn lower-btn">
                                <i data-lucide="trending-down"></i>
                                <span>Lower (1-3)</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Other Pages -->
        <div id="trades-page" class="page-content hidden">
            <div class="page-header">
                <h1>Trades</h1>
                <p>Trading system coming soon</p>
            </div>
            <div class="coming-soon">
                <i data-lucide="trending-up"></i>
                <h3>Trading Coming Soon</h3>
                <p>Advanced trading system in development</p>
            </div>
        </div>

        <div id="marketplace-page" class="page-content hidden">
            <div class="page-header">
                <h1>Marketplace</h1>
                <p>Marketplace coming soon</p>
            </div>
            <div class="coming-soon">
                <i data-lucide="shopping-cart"></i>
                <h3>Marketplace Coming Soon</h3>
                <p>Buy and sell items with other players</p>
            </div>
        </div>

        <!-- Plinko Game Page -->
        <div id="plinko-game-page" class="page-content hidden">
            <div class="game-page-header">
                <button onclick="showPage('games')" class="back-btn">
                    <i data-lucide="arrow-left"></i>
                    <span>Back to Games</span>
                </button>
                <h1>Plinko</h1>
            </div>
            
            <!-- Plinko Game -->
            <div class="dice-game-container">
                <div class="dice-game-header">
                    <h3 class="dice-game-title"><i data-lucide="triangle"></i> Plinko</h3>
                    <div class="dice-game-stats">
                        <span>Risk: <span id="plinko-risk" class="formatted-number">Low</span></span>
                        <span>Rows: <span id="plinko-rows" class="formatted-number">8</span></span>
                    </div>
                </div>
                
                <div class="dice-game-body">
                    <div class="dice-visual">
                        <canvas id="plinko-canvas" width="400" height="600"></canvas>
                    </div>
                    
                    <div class="dice-controls">
                        <div class="control-group">
                            <label class="control-label">Bet Amount</label>
                            <input type="number" id="plinko-bet-amount" class="bet-input" placeholder="0.00" min="0.01" step="0.01">
                            <div class="bet-buttons">
                                <button class="bet-btn" onclick="setPlinkoAmount('half')">½</button>
                                <button class="bet-btn" onclick="setPlinkoAmount('double')">2x</button>
                                <button class="bet-btn" onclick="setPlinkoAmount('max')">Max</button>
                                <button class="bet-btn" onclick="setPlinkoAmount('clear')">Clear</button>
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <label class="control-label">Risk Level</label>
                            <div class="roll-type-buttons">
                                <button class="roll-type-btn active" id="risk-low-btn" onclick="setPlinkoRisk('low')">
                                    <span>Low</span>
                                </button>
                                <button class="roll-type-btn" id="risk-medium-btn" onclick="setPlinkoRisk('medium')">
                                    <span>Medium</span>
                                </button>
                                <button class="roll-type-btn" id="risk-high-btn" onclick="setPlinkoRisk('high')">
                                    <span>High</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <label class="control-label">Rows</label>
                            <div class="bet-strategy-grid">
                                <button class="strategy-btn active" id="rows-8-btn" onclick="setPlinkoRows(8)">8</button>
                                <button class="strategy-btn" id="rows-12-btn" onclick="setPlinkoRows(12)">12</button>
                                <button class="strategy-btn" id="rows-16-btn" onclick="setPlinkoRows(16)">16</button>
                            </div>
                        </div>
                        
                        <div class="action-buttons">
                            <button class="roll-btn" id="drop-ball-btn" onclick="dropBall()">
                                <span id="drop-btn-text">Drop Ball</span>
                            </button>
                            <button class="auto-bet-btn" id="plinko-auto-bet-btn">Auto</button>
                        </div>
                        
                        <div class="auto-bet-settings" id="plinko-auto-bet-settings">
                            <div class="control-group">
                                <label class="control-label">Auto Bet Settings</label>
                                <div class="auto-bet-grid">
                                    <div>
                                        <label class="control-label">Number of Bets</label>
                                        <div class="input-with-toggle">
                                            <input type="number" id="plinko-auto-bet-count" class="auto-bet-input" placeholder="10" min="1">
                                            <button id="plinko-infinite-bets-toggle" class="toggle-btn" title="Run indefinitely">∞</button>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="control-label">Stop on Win ($)</label>
                                        <input type="number" id="plinko-auto-stop-win" class="auto-bet-input" placeholder="100.00" min="0" step="0.01">
                                    </div>
                                    <div>
                                        <label class="control-label">Stop on Loss ($)</label>
                                        <input type="number" id="plinko-auto-stop-loss" class="auto-bet-input" placeholder="50.00" min="0" step="0.01">
                                    </div>
                                    <div>
                                        <label class="control-label">Stop on Balance %</label>
                                        <div class="input-group">
                                            <input type="number" id="plinko-auto-stop-balance-gain" class="auto-bet-input half" placeholder="+50%" min="0" max="1000">
                                            <input type="number" id="plinko-auto-stop-balance-loss" class="auto-bet-input half" placeholder="-25%" min="0" max="100">
                                        </div>
                                    </div>
                                </div>

                                <div class="control-group">
                                    <label class="control-label">On Loss</label>
                                    <div class="bet-strategy-grid">
                                        <button id="plinko-on-loss-reset" class="strategy-btn active">Reset</button>
                                        <button id="plinko-on-loss-multiply" class="strategy-btn">Multiply</button>
                                        <button id="plinko-on-loss-stop" class="strategy-btn">Stop</button>
                                    </div>
                                    <div id="plinko-on-loss-settings" class="strategy-settings">
                                        <div class="input-with-label">
                                            <input type="number" id="plinko-on-loss-multiplier" class="auto-bet-input" placeholder="2.0" min="0.1" step="0.1" value="2.0">
                                            <span class="input-label">× multiplier</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="control-group">
                                    <label class="control-label">On Win</label>
                                    <div class="bet-strategy-grid">
                                        <button id="plinko-on-win-reset" class="strategy-btn active">Reset</button>
                                        <button id="plinko-on-win-multiply" class="strategy-btn">Multiply</button>
                                        <button id="plinko-on-win-stop" class="strategy-btn">Stop</button>
                                    </div>
                                    <div id="plinko-on-win-settings" class="strategy-settings">
                                        <div class="input-with-label">
                                            <input type="number" id="plinko-on-win-multiplier" class="auto-bet-input" placeholder="2.0" min="0.1" step="0.1" value="2.0">
                                            <span class="input-label">× multiplier</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="auto-bet-actions">
                                    <button id="plinko-start-auto-bet" class="start-auto-btn">Start Auto Bet</button>
                                    <button id="plinko-stop-auto-bet" class="stop-auto-btn hidden">Stop</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mines Game Page -->
        <div id="mines-game-page" class="page-content hidden">
            <div class="game-page-header">
                <button onclick="showPage('games')" class="back-btn">
                    <i data-lucide="arrow-left"></i>
                    <span>Back to Games</span>
                </button>
                <h1>Mines</h1>
            </div>
            
            <!-- Mines Game -->
            <div class="mines-game-container">
                <div class="mines-game-header">
                    <h3 class="mines-game-title"><i data-lucide="bomb"></i> Mines</h3>
                    <div class="mines-game-stats">
                        <span>Mines: <span id="mines-count" class="formatted-number">3</span></span>
                        <span>Multiplier: <span id="mines-multiplier" class="formatted-number">1.00x</span></span>
                        <span>Profit: <span id="mines-profit" class="formatted-number">$0.00</span></span>
                    </div>
                </div>
                
                <div class="mines-game-body">
                    <div class="mines-visual">
                        <div class="mines-grid" id="mines-grid">
                            <!-- 5x5 grid will be generated here -->
                        </div>
                    </div>
                    
                    <div class="mines-controls">
                        <div class="control-group">
                            <label class="control-label">Bet Amount</label>
                            <input type="number" id="mines-bet-amount" class="bet-input" placeholder="0.00" min="0.01" step="0.01">
                            <div class="bet-buttons">
                                <button class="bet-btn" onclick="setMinesAmount('half')">½</button>
                                <button class="bet-btn" onclick="setMinesAmount('double')">2x</button>
                                <button class="bet-btn" onclick="setMinesAmount('max')">Max</button>
                                <button class="bet-btn" onclick="setMinesAmount('clear')">Clear</button>
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <label class="control-label">Number of Mines</label>
                            <div class="mines-count-slider">
                                <input type="range" id="mines-count-slider" class="slider-input" min="1" max="24" value="3" step="1">
                                <div class="slider-value">
                                    <span id="mines-count-value">3</span> mines
                                </div>
                            </div>
                        </div>
                        
                        <div class="action-buttons">
                            <button class="roll-btn" id="mines-start-btn" onclick="startMinesGame()">
                                <span id="mines-start-text">Start Game</span>
                            </button>
                            <button class="roll-btn secondary" id="mines-cashout-btn" onclick="cashOutMines()" style="display: none;">
                                <span id="mines-cashout-text">Cash Out</span>
                            </button>
                            <button class="auto-bet-btn" id="mines-auto-bet-btn">Auto</button>
                        </div>
                        
                        <div class="auto-bet-settings" id="mines-auto-bet-settings">
                            <div class="control-group">
                                <label class="control-label">Auto Bet Settings</label>
                                <div class="auto-bet-grid">
                                    <div>
                                        <label class="control-label">Number of Bets</label>
                                        <div class="input-with-toggle">
                                            <input type="number" id="mines-auto-bet-count" class="auto-bet-input" placeholder="10" min="1">
                                            <button id="mines-infinite-bets-toggle" class="toggle-btn" title="Run indefinitely">∞</button>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="control-label">Stop on Win ($)</label>
                                        <input type="number" id="mines-auto-stop-win" class="auto-bet-input" placeholder="100.00" min="0" step="0.01">
                                    </div>
                                    <div>
                                        <label class="control-label">Stop on Loss ($)</label>
                                        <input type="number" id="mines-auto-stop-loss" class="auto-bet-input" placeholder="50.00" min="0" step="0.01">
                                    </div>
                                    <div>
                                        <label class="control-label">Auto Reveal Tiles</label>
                                        <div class="input-with-toggle">
                                            <input type="number" id="mines-auto-reveal-count" class="auto-bet-input" placeholder="3" min="1" max="20">
                                            <button id="mines-pattern-toggle" class="toggle-btn" title="Toggle pattern mode">⊞</button>
                                        </div>
                                    </div>
                                </div>

                                <div class="control-group">
                                    <label class="control-label">On Loss</label>
                                    <div class="bet-strategy-grid">
                                        <button id="mines-on-loss-reset" class="strategy-btn active">Reset</button>
                                        <button id="mines-on-loss-multiply" class="strategy-btn">Multiply</button>
                                        <button id="mines-on-loss-stop" class="strategy-btn">Stop</button>
                                    </div>
                                    <div id="mines-on-loss-settings" class="strategy-settings">
                                        <div class="input-with-label">
                                            <input type="number" id="mines-on-loss-multiplier" class="auto-bet-input" placeholder="2.0" min="0.1" step="0.1" value="2.0">
                                            <span class="input-label">× multiplier</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="control-group">
                                    <label class="control-label">On Win</label>
                                    <div class="bet-strategy-grid">
                                        <button id="mines-on-win-reset" class="strategy-btn active">Reset</button>
                                        <button id="mines-on-win-multiply" class="strategy-btn">Multiply</button>
                                        <button id="mines-on-win-stop" class="strategy-btn">Stop</button>
                                    </div>
                                    <div id="mines-on-win-settings" class="strategy-settings">
                                        <div class="input-with-label">
                                            <input type="number" id="mines-on-win-multiplier" class="auto-bet-input" placeholder="2.0" min="0.1" step="0.1" value="2.0">
                                            <span class="input-label">× multiplier</span>
                                        </div>
                    </div>
                    </div>

                                <div class="auto-bet-actions">
                                    <button id="mines-start-auto-bet" class="start-auto-btn">Start Auto Bet</button>
                                    <button id="mines-stop-auto-bet" class="stop-auto-btn hidden">Stop</button>
                    </div>
                    </div>
                </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Blackjack Game Page -->
        <div id="blackjack-game-page" class="page-content hidden">
            <div class="game-page-header">
                <button onclick="showPage('games')" class="back-btn">
                    <i data-lucide="arrow-left"></i>
                    <span>Back to Games</span>
                </button>
                <h1>Blackjack</h1>
            </div>
            
            <!-- Blackjack Game -->
            <div class="blackjack-game-container">
                <div class="blackjack-game-header">
                    <h3 class="blackjack-game-title"><i data-lucide="spade"></i> Blackjack</h3>
                    <div class="blackjack-game-stats">
                        <span>Dealer: <span id="dealer-count" class="formatted-number">0</span></span>
                        <span>Player: <span id="player-count" class="formatted-number">0</span></span>
                        <span>Bet: <span id="current-bet" class="formatted-number">$0.00</span></span>
                    </div>
                </div>
                
                <div class="blackjack-game-body">
                    <div class="blackjack-visual">
                        <div class="card-area">
                            <div class="dealer-area">
                                <div class="dealer-label">Dealer</div>
                                <div class="dealer-cards" id="dealer-cards"></div>
                                <div class="dealer-total" id="dealer-total">0</div>
                            </div>
                            
                            <div class="game-status" id="game-status">Place your bet to start</div>
                            
                            <div class="player-area">
                                <div class="player-label">Player</div>
                                <div class="player-cards" id="player-cards"></div>
                                <div class="player-total" id="player-total">0</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="blackjack-controls">
                        <div class="control-group">
                            <label class="control-label">Bet Amount</label>
                            <input type="number" id="blackjack-bet-amount" class="bet-input" placeholder="0.00" min="0.01" step="0.01">
                            <div class="bet-buttons">
                                <button class="bet-btn" onclick="setBlackjackAmount('half')">½</button>
                                <button class="bet-btn" onclick="setBlackjackAmount('double')">2x</button>
                                <button class="bet-btn" onclick="setBlackjackAmount('max')">Max</button>
                                <button class="bet-btn" onclick="setBlackjackAmount('clear')">Clear</button>
                            </div>
                        </div>
                        
                        <div class="primary-buttons">
                            <button class="roll-btn" id="blackjack-deal-btn" onclick="dealBlackjack()">
                                <span id="blackjack-deal-text">Deal</span>
                            </button>
                            <button class="auto-bet-btn" id="blackjack-auto-bet-btn">Auto</button>
                        </div>
                        
                        <div class="action-buttons" id="blackjack-action-buttons" style="display: none;">
                            <button class="action-btn hit-btn" id="blackjack-hit-btn" onclick="hitBlackjack()">
                                <span>Hit</span>
                            </button>
                            <button class="action-btn stand-btn" id="blackjack-stand-btn" onclick="standBlackjack()">
                                <span>Stand</span>
                            </button>
                            <button class="action-btn double-btn" id="blackjack-double-btn" onclick="doubleBlackjack()">
                                <span>Double</span>
                            </button>
                        </div>
                        
                        <div class="auto-bet-settings" id="blackjack-auto-bet-settings">
                            <div class="control-group">
                                <label class="control-label">Auto Bet Settings</label>
                                <div class="auto-bet-grid">
                                    <div>
                                        <label class="control-label">Number of Bets</label>
                                        <div class="input-with-toggle">
                                            <input type="number" id="blackjack-auto-bet-count" class="auto-bet-input" placeholder="10" min="1">
                                            <button id="blackjack-infinite-bets-toggle" class="toggle-btn" title="Run indefinitely">∞</button>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="control-label">Stop on Win ($)</label>
                                        <input type="number" id="blackjack-auto-stop-win" class="auto-bet-input" placeholder="100.00" min="0" step="0.01">
                                    </div>
                                    <div>
                                        <label class="control-label">Stop on Loss ($)</label>
                                        <input type="number" id="blackjack-auto-stop-loss" class="auto-bet-input" placeholder="50.00" min="0" step="0.01">
                                    </div>
                                    <div>
                                        <label class="control-label">Auto Strategy</label>
                                        <select id="blackjack-auto-strategy" class="auto-bet-input">
                                            <option value="basic">Basic Strategy</option>
                                            <option value="conservative">Conservative</option>
                                            <option value="aggressive">Aggressive</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="control-group">
                                    <label class="control-label">On Loss</label>
                                    <div class="bet-strategy-grid">
                                        <button id="blackjack-on-loss-reset" class="strategy-btn active">Reset</button>
                                        <button id="blackjack-on-loss-multiply" class="strategy-btn">Multiply</button>
                                        <button id="blackjack-on-loss-stop" class="strategy-btn">Stop</button>
                                    </div>
                                    <div id="blackjack-on-loss-settings" class="strategy-settings">
                                        <div class="input-with-label">
                                            <input type="number" id="blackjack-on-loss-multiplier" class="auto-bet-input" placeholder="2.0" min="0.1" step="0.1" value="2.0">
                                            <span class="input-label">× multiplier</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="control-group">
                                    <label class="control-label">On Win</label>
                                    <div class="bet-strategy-grid">
                                        <button id="blackjack-on-win-reset" class="strategy-btn active">Reset</button>
                                        <button id="blackjack-on-win-multiply" class="strategy-btn">Multiply</button>
                                        <button id="blackjack-on-win-stop" class="strategy-btn">Stop</button>
                                    </div>
                                    <div id="blackjack-on-win-settings" class="strategy-settings">
                                        <div class="input-with-label">
                                            <input type="number" id="blackjack-on-win-multiplier" class="auto-bet-input" placeholder="2.0" min="0.1" step="0.1" value="2.0">
                                            <span class="input-label">× multiplier</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="auto-bet-actions">
                                    <button id="blackjack-start-auto-bet" class="start-auto-btn">Start Auto Bet</button>
                                    <button id="blackjack-stop-auto-bet" class="stop-auto-btn hidden">Stop</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Leaderboard Page -->
        <div id="leaderboard-page" class="page-content hidden">
            <div class="page-header">
                <h1>Leaderboard</h1>
                <p>Top players and rankings</p>
            </div>
            
            <div class="leaderboard-container">
                <div class="leaderboard-main leaderboard-full-width">
                    <!-- Search Section -->
                    <div class="search-section">
                        <div class="search-box">
                            <input type="text" id="player-search" placeholder="Search player by username..." class="search-input">
                        </div>
                    </div>
                    
                    <!-- Top 3 Podium -->
                    <div class="podium-section">
                        <div class="podium-container">
                            <div class="podium-place second" id="podium-2">
                                <div class="podium-rank">2</div>
                                <div class="podium-avatar">
                                    <span class="podium-avatar-text">2</span>
                                </div>
                                <div class="podium-info">
                                    <div class="podium-name">Loading...</div>
                                    <div class="podium-balance">$0.00</div>
                                </div>
                                <div class="podium-base silver"></div>
                            </div>
                            
                            <div class="podium-place first" id="podium-1">
                                <div class="podium-crown">👑</div>
                                <div class="podium-rank">1</div>
                                <div class="podium-avatar">
                                    <span class="podium-avatar-text">1</span>
                                </div>
                                <div class="podium-info">
                                    <div class="podium-name">Loading...</div>
                                    <div class="podium-balance">$0.00</div>
                                </div>
                                <div class="podium-base gold"></div>
                            </div>
                            
                            <div class="podium-place third" id="podium-3">
                                <div class="podium-rank">3</div>
                                <div class="podium-avatar">
                                    <span class="podium-avatar-text">3</span>
                                </div>
                                <div class="podium-info">
                                    <div class="podium-name">Loading...</div>
                                    <div class="podium-balance">$0.00</div>
                                </div>
                                <div class="podium-base bronze"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Leaderboard Table -->
                    <div class="leaderboard-table-section">
                        <div class="table-header">
                            <h3>Top 50 Players</h3>
                            <div class="update-timer">
                                <span>Updates in: <span id="leaderboard-timer">30s</span></span>
                            </div>
                        </div>
                        
                        <div class="leaderboard-table">
                            <div class="table-header-row">
                                <div class="table-cell rank">Rank</div>
                                <div class="table-cell player">Player</div>
                                <div class="table-cell balance">Balance</div>
                                <div class="table-cell level">Level</div>
                                <div class="table-cell games">Games</div>
                                <div class="table-cell winrate">Win Rate</div>
                            </div>
                            
                            <div class="table-body" id="leaderboard-table-body">
                                <!-- Leaderboard entries will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
                

            </div>
            
            <!-- Player Detail Modal -->
            <div id="player-detail-modal" class="modal-overlay hidden">
                <div class="modal-content player-detail-content">
                    <div class="modal-header">
                        <h2 id="player-detail-name">Player Stats</h2>
                        <button class="modal-close" onclick="closePlayerDetailModal()">
                            <i data-lucide="x"></i>
                        </button>
                    </div>
                    
                    <div class="player-detail-body">
                        <div class="player-detail-main">
                            <div class="player-detail-avatar">
                                <span id="player-detail-avatar-text">P</span>
                            </div>
                            
                            <div class="player-detail-info">
                                <div class="player-detail-rank">
                                    <span class="rank-label">Rank</span>
                                    <span class="rank-value" id="player-detail-rank">#1</span>
                                </div>
                                <div class="player-detail-level">
                                    <span class="level-label">Level</span>
                                    <span class="level-value" id="player-detail-level">1</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="player-detail-stats">
                            <div class="stat-grid">
                                <div class="stat-item">
                                    <div class="stat-label">Balance</div>
                                    <div class="stat-value" id="player-detail-balance">$0.00</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-label">Games Played</div>
                                    <div class="stat-value" id="player-detail-games">0</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-label">Total Won</div>
                                    <div class="stat-value" id="player-detail-won">$0.00</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-label">Win Rate</div>
                                    <div class="stat-value" id="player-detail-winrate">0%</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-label">Best Win</div>
                                    <div class="stat-value" id="player-detail-best-win">$0.00</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-label">Best Streak</div>
                                    <div class="stat-value" id="player-detail-best-streak">0</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="player-detail-chart">
                            <div class="chart-header">
                                <h3 class="chart-title">Balance History</h3>
                                <div class="chart-stats">
                                    <div class="chart-stat">
                                        <div class="chart-stat-dot wins"></div>
                                        <span class="chart-stat-label">Wins:</span>
                                        <span class="chart-stat-value" id="player-chart-wins">0</span>
                                    </div>
                                    <div class="chart-stat">
                                        <div class="chart-stat-dot losses"></div>
                                        <span class="chart-stat-label">Losses:</span>
                                        <span class="chart-stat-value" id="player-chart-losses">0</span>
                                    </div>
                                </div>
                            </div>
                            <div class="chart-container">
                                <div class="chart-grid"></div>
                                <canvas id="player-balance-chart" width="400" height="200"></canvas>
                                <div class="chart-points" id="player-chart-points"></div>
                            </div>
                        </div>
                        
                        <div class="player-detail-badges">
                            <h4>Badges & Achievements</h4>
                            <div class="badges-grid" id="player-detail-badges">
                                <!-- Badges will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cases Page -->
        <div id="cases-page" class="page-content hidden">
            <div class="page-header">
                <h1>Cases</h1>
                <p>Open cases to discover rare items and collectibles</p>
            </div>
            
            <div class="cases-container">
                <div class="cases-grid" id="cases-grid">
                    <!-- Cases will be populated here -->
                </div>
            </div>
        </div>

        <!-- Case Battles Page -->
        <div id="case-battles-page" class="page-content hidden">
            <div class="page-header">
                <h1>Case Battles</h1>
                <p>Compete against other players in real-time case opening battles</p>
            </div>
            
            <div class="case-battles-container">
                <div class="battles-actions">
                    <button class="btn-primary" onclick="showCreateBattleModal()">
                        <i data-lucide="plus"></i>
                        Create Battle
                    </button>
                    <button class="btn-secondary" onclick="loadCaseBattles()">
                        <i data-lucide="refresh-cw"></i>
                        Refresh
                    </button>
                </div>
                
                <div class="battles-grid" id="battles-grid">
                    <!-- Case battles will be populated here -->
                </div>
            </div>
        </div>

        <!-- Inventory Page -->
        <div id="inventory-page" class="page-content hidden">
            <div class="page-header">
                <h1>Inventory</h1>
                <p>Manage your items and collectibles</p>
            </div>
            
            <div class="inventory-container">
                <div class="inventory-stats">
                    <div class="stat-card">
                        <div class="stat-label">Total Items</div>
                        <div class="stat-value" id="total-items">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Total Value</div>
                        <div class="stat-value" id="total-value">$0.00</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Limited Items</div>
                        <div class="stat-value" id="limited-items">0</div>
                    </div>
                </div>
                
                <div class="inventory-filters">
                    <div class="filter-group">
                        <label>Category:</label>
                        <select id="category-filter">
                            <option value="">All Categories</option>
                            <option value="weapon">Weapons</option>
                            <option value="skin">Skins</option>
                            <option value="accessory">Accessories</option>
                            <option value="consumable">Consumables</option>
                            <option value="decoration">Decorations</option>
                            <option value="misc">Miscellaneous</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Rarity:</label>
                        <select id="rarity-filter">
                            <option value="">All Rarities</option>
                            <option value="common">Common</option>
                            <option value="uncommon">Uncommon</option>
                            <option value="rare">Rare</option>
                            <option value="epic">Epic</option>
                            <option value="legendary">Legendary</option>
                            <option value="mythic">Mythic</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Type:</label>
                        <select id="type-filter">
                            <option value="">All Items</option>
                            <option value="limited">Limited Only</option>
                            <option value="regular">Regular Only</option>
                        </select>
                    </div>
                </div>
                
                <div class="inventory-grid" id="inventory-grid">
                    <!-- Inventory items will be populated here -->
                </div>
            </div>
        </div>
    </main>

    <!-- Game Result Modal -->
    <div id="game-result-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div id="result-text" class="result-title"></div>
            <div id="result-amount" class="result-amount"></div>
            <button onclick="document.getElementById('game-result-modal').classList.add('hidden')" class="btn-primary">
                Continue
            </button>
        </div>
    </div>

    <!-- Case Opening Modal -->
    <div id="case-opening-modal" class="modal-overlay hidden">
        <div class="modal-content case-opening-content">
            <div class="modal-header">
                <h2 id="case-opening-title">Opening Case...</h2>
                <button class="modal-close" onclick="closeCaseOpeningModal()">
                    <i data-lucide="x"></i>
                </button>
            </div>
            
            <div class="case-opening-body">
                <div class="case-opening-animation">
                    <div class="case-reel" id="case-reel">
                        <!-- Items will be populated here -->
                    </div>
                    <div class="case-pointer"></div>
                </div>
                
                <div class="case-result hidden" id="case-result">
                    <div class="result-item">
                        <div class="item-icon" id="result-item-icon">
                            <i data-lucide="package"></i>
                        </div>
                        <div class="item-details">
                            <div class="item-name" id="result-item-name">Item Name</div>
                            <div class="item-rarity" id="result-item-rarity">Common</div>
                            <div class="item-value" id="result-item-value">$0.00</div>
                        </div>
                    </div>
                    <div class="result-actions">
                        <button class="btn-primary" onclick="closeCaseOpeningModal()">Continue</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Item Detail Modal -->
    <div id="item-detail-modal" class="modal-overlay hidden">
        <div class="modal-content item-detail-content">
            <div class="modal-header">
                <h2 id="item-detail-name">Item Details</h2>
                <button class="modal-close" onclick="closeItemDetailModal()">
                    <i data-lucide="x"></i>
                </button>
            </div>
            
            <div class="item-detail-body">
                <div class="item-detail-main">
                    <div class="item-detail-icon">
                        <i data-lucide="package" id="item-detail-icon"></i>
                    </div>
                    <div class="item-detail-info">
                        <div class="item-detail-rarity" id="item-detail-rarity">Common</div>
                        <div class="item-detail-category" id="item-detail-category">Miscellaneous</div>
                        <div class="item-detail-value" id="item-detail-value">$0.00</div>
                    </div>
                </div>
                
                <div class="item-detail-description" id="item-detail-description">
                    Item description will appear here.
                </div>
                
                <div class="item-detail-stats">
                    <div class="stat-row">
                        <span>Quantity:</span>
                        <span id="item-detail-quantity">1</span>
                    </div>
                    <div class="stat-row">
                        <span>Sell Price:</span>
                        <span id="item-detail-sell-price">$0.00</span>
                    </div>
                    <div class="stat-row">
                        <span>Obtained:</span>
                        <span id="item-detail-obtained">Case Opening</span>
                    </div>
                </div>
                
                <div class="item-detail-actions">
                    <button class="btn-secondary" id="sell-item-btn" onclick="sellItem()">
                        <i data-lucide="dollar-sign"></i>
                        Sell Item
                    </button>
                    <button class="btn-primary" id="list-item-btn" onclick="listItem()" style="display: none;">
                        <i data-lucide="shopping-cart"></i>
                        List on Marketplace
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Battle Modal -->
    <div id="create-battle-modal" class="modal-overlay hidden">
        <div class="modal-content create-battle-content">
            <div class="modal-header">
                <h2>Create Case Battle</h2>
                <button class="modal-close" onclick="closeCreateBattleModal()">
                    <i data-lucide="x"></i>
                </button>
            </div>
            
            <div class="create-battle-body">
                <div class="form-group">
                    <label for="battle-mode">Battle Mode</label>
                    <select id="battle-mode">
                        <option value="1v1">1v1</option>
                        <option value="2v2">2v2</option>
                        <option value="1v1v1">1v1v1</option>
                        <option value="2v2v2">2v2v2</option>
                        <option value="1v1v1v1">1v1v1v1</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Select Cases</label>
                    <div class="battle-cases-selection" id="battle-cases-selection">
                        <!-- Cases will be populated here -->
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Total Cost: <span id="battle-total-cost">$0.00</span></label>
                    <p class="help-text">Each player must pay this amount to join</p>
                </div>
                
                <div class="create-battle-actions">
                    <button class="btn-secondary" onclick="closeCreateBattleModal()">Cancel</button>
                    <button class="btn-primary" onclick="createCaseBattle()">Create Battle</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Battle Room Modal -->
    <div id="battle-room-modal" class="modal-overlay hidden">
        <div class="modal-content battle-room-content">
            <div class="modal-header">
                <h2 id="battle-room-title">Battle Room</h2>
                <button class="modal-close" onclick="leaveBattleRoom()">
                    <i data-lucide="x"></i>
                </button>
            </div>
            
            <div class="battle-room-body">
                <div class="battle-info">
                    <div class="battle-stat">
                        <span>Entry Fee:</span>
                        <span id="battle-room-entry-fee">$0.00</span>
                    </div>
                    <div class="battle-stat">
                        <span>Players:</span>
                        <span id="battle-room-players">0/2</span>
                    </div>
                    <div class="battle-stat">
                        <span>Status:</span>
                        <span id="battle-room-status">Waiting</span>
                    </div>
                </div>
                
                <div class="battle-cases">
                    <h3>Cases in Battle</h3>
                    <div class="battle-cases-list" id="battle-cases-list">
                        <!-- Cases will be populated here -->
                    </div>
                </div>
                
                <div class="battle-players">
                    <h3>Players</h3>
                    <div class="battle-players-list" id="battle-players-list">
                        <!-- Players will be populated here -->
                    </div>
                </div>
                
                <div class="battle-actions">
                    <button class="btn-secondary" id="add-bot-btn" onclick="addBotToBattle()">
                        <i data-lucide="bot"></i>
                        Add Bot
                    </button>
                    <button class="btn-primary" id="start-battle-btn" onclick="startBattle()" style="display: none;">
                        <i data-lucide="play"></i>
                        Start Battle
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Join Battle Modal -->
    <div id="join-battle-modal" class="modal-overlay hidden">
        <div class="modal-content join-battle-content">
            <div class="modal-header">
                <h2>Join Battle</h2>
                <button class="modal-close" onclick="closeJoinBattleModal()">
                    <i data-lucide="x"></i>
                </button>
            </div>
            
            <div class="join-battle-body">
                <div class="battle-preview">
                    <div class="battle-name" id="join-battle-name">Battle Name</div>
                    <div class="battle-details">
                        <div class="battle-detail">
                            <span>Entry Fee:</span>
                            <span id="join-battle-fee">$0.00</span>
                        </div>
                        <div class="battle-detail">
                            <span>Players:</span>
                            <span id="join-battle-players">0/2</span>
                        </div>
                        <div class="battle-detail">
                            <span>Creator:</span>
                            <span id="join-battle-creator">Unknown</span>
                        </div>
                    </div>
                </div>
                
                <div class="form-group" id="join-battle-password-group" style="display: none;">
                    <label for="join-battle-password">Password</label>
                    <input type="text" id="join-battle-password" placeholder="Enter battle password">
                </div>
                
                <div class="join-battle-actions">
                    <button class="btn-secondary" onclick="closeJoinBattleModal()">Cancel</button>
                    <button class="btn-primary" onclick="joinCaseBattle()">Join Battle</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notification-container" class="notification-container"></div>

    <script src="js/constants.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/cases.js"></script>
    <script src="js/case-battles.js"></script>
    <script src="js/app.js"></script>
    <script>
        // Initialize Lucide icons
        lucide.createIcons();
    </script>
</body>
</html> 